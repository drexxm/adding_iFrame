{% extends 'base.html' %}
{% block title %}Manage Users{% endblock %}
{% block content %}
<h2>ðŸ‘¥ User Management</h2>
<table class="table table-striped">
  <thead>
  <tr>
    <th>ID</th>
    <th>Username</th>
    <th>Role</th>
    <th>Permissions</th>
    <th>Recent Page</th>
    <th>Action</th>
  </tr>
</thead>
<tbody>
  {% for user in users %}
  <tr>
    <td>{{ user.id }}</td>
    <td>{{ user.username }}</td>
    <td>{{ user.role }}</td>
    <td>
      {{ user.permissions }}
    </td>
    <td>{{ user.recent_page or 'N/A' }}</td>
    <td>
      <a href="{{ url_for('admin_bp.edit_permissions', id=user.id) }}" class="btn btn-sm btn-warning">
        Edit Permissions
      </a>
      <a href="{{ url_for('admin_bp.delete_user', id=user.id) }}" class="btn btn-sm btn-danger"
         onclick="return confirm('Delete this user?')">Delete</a>
    </td>
  </tr>
  {% endfor %}
</tbody>
</table>
<a href="{{ url_for('admin_bp.add_user') }}" class="btn btn-primary">+ Add New User</a>
{% endblock %}
